<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>Delay Searcher</title>
    </head>
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <body>
        <h1>路線の遅延を表示するAndroidアプリケーション</h1>
        <h2>製作にあたっての動機</h2>
        <p>現在世の中に出回っている遅延情報は事故の発生時刻や事故の原因などの煩雑な要素が多く、
            シンプルに「どの路線が遅延しているのか」に重きをおいた遅延情報が欲しいと思ったのがきっかけである。</p>
        <h2>製作ツール</h2>
        <p>その中で日常で使うことを想定した際に、Javaの勉強の一環でAndroidアプリケーション製作を選択肢、
            開発環境単体でコーディング、デバッグが可能な公式開発環境Android Studioを選択した。</p>
        <p>当時Twitterとの連携に興味を持っていたため、遅延情報をTwitterで投稿できるようにしたいと思い、ネットでいろいろ調べてみると、
            アプリケーションとAndroidを紐付けするものとして有名なのはTwitter4Jだが、設定の手軽さを考えてTwitter社が提供している
            フレームワークであるFabric(現在はFirebaseに統合)を使うことにした。</p>
        <h2>動作概要</h2>
        <p><img src="./picture/MainActivity.jpg" alt="表示される遅延情報"/></p>
        <p>アプリケーションを起動したときの最初のアクティビティ。WebAPIを叩いて得られたJSONファイルからパースを行って、
            路線と会社名を取得してリストビューに表示する。データが表示できたらトーストを表示する。</p>
        <p><img src="./picture/TweetActivity.jpg" alt="ツイート内容"/></p>
        <p>リストビューの中で発信したい路線をタップすると、Twitter関連のアクティビティに遷移する。ここからTwitterアカウントの認証、ツイート画面への遷移、
            TLを表示する機能(ツイート、TL表示は認証後使うことができる)を行える。</p>
        <p><img src="./picture/TimeLineActivity.jpg" alt="TLの表示"/></p>
        <p>TLを表示した結果。</p>

        <h2>反省点</h2>
        <ul>
            <li><p>当時JSONファイルについての知識がほとんど無く、パースをするコード書くのに時間がかかった。</p></li>
            <li><p>Androidのレイアウト部分であるXMLもほとんどIDEの自動補正に頼り切りであった。</p></li>
            <li><p>路線名と会社名をそれぞれ別のリストビューに入れて表示しているのだが、IDE側で自動補正できなかったためアプリ側で処理を
                することになった。BaseAdapterを改造してリスト表示をするという手法をとったのだが、ネットの記事と友人の助言によって
                なんとか実装することができた。</p></li>
        </ul>
        

        <p>2020/11/30現在では、遅延情報に取得したAPIのアドレスの変更と、FabricがFirebaseに統合したため現在は動作不可能となってしまっている為、
            今後改良をしていきたい。</p>
        <a href="./index.html">戻る</a>

    </body>
    <footer>
        <address>
            Yosuke Suzuki<br>
            <a href="mailto:7bjk2115@mail.u-tokai.ac.jp">mail</a>
        </address>
        2020/11/29 作成<br>
        2020/11/30 加筆・修正
    </footer>
</html>
